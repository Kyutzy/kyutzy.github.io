<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andrzejki - O Or√°culo M√≠stico</title>
    <style>
        body {
            margin: 0;
            background-color: #1a1a2e;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding-top: 40px; 
            box-sizing: border-box;
            overflow-x: hidden; /* Evita barra de rolagem horizontal por causa das nuvens */
            position: relative;
        }

        /* --- FUNDO M√çSTICO (BRILHOS) --- */
        .star {
            position: fixed;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
            opacity: 0;
            animation: twinkle var(--duration) ease-in-out infinite;
            box-shadow: 0 0 5px #fff;
        }

        @keyframes twinkle {
            0% { opacity: 0; transform: scale(0.5); }
            50% { opacity: var(--max-opacity); transform: scale(1.2); }
            100% { opacity: 0; transform: scale(0.5); }
        }

        /* --- N√âVOA/NUVENS NO RODAP√â (SVG) --- */
        .fog-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px;
            pointer-events: none;
            z-index: -1; /* Atr√°s do conte√∫do */
            overflow: hidden;
        }

        .fog-wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%; /* Largura dobrada para anima√ß√£o cont√≠nua */
            height: 100%;
            background-repeat: repeat-x;
            background-position: bottom;
            opacity: 0.6;
        }

        /* Camada 1: Mais lenta e transparente */
        .fog-layer-1 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%232a2a4e' fill-opacity='0.7' d='M0,224L60,213.3C120,203,240,181,360,181.3C480,181,600,203,720,224C840,245,960,267,1080,261.3C1200,256,1320,224,1380,208L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
            animation: moveFog 25s linear infinite;
            z-index: 1;
        }

        /* Camada 2: Mais r√°pida e clara */
        .fog-layer-2 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%233a3a60' fill-opacity='0.4' d='M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
            animation: moveFog 15s linear infinite reverse;
            z-index: 2;
            height: 120px;
        }

        @keyframes moveFog {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* --- CABE√áALHO --- */
        h1 {
            margin-bottom: 5px;
            color: #ffd700;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
            font-weight: lighter;
            letter-spacing: 4px;
            text-align: center;
            font-size: 2.5em;
            position: relative;
            z-index: 10;
        }
        
        h2 {
            margin-top: 0;
            font-size: 1em;
            color: #a8a8c0;
            font-weight: normal;
            letter-spacing: 1px;
            margin-bottom: 20px;
            position: relative;
            z-index: 10;
        }

        /* Instru√ß√£o */
        .instruction-box {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 10px 30px;
            border-radius: 50px;
            margin-bottom: 30px;
            text-align: center;
            animation: pulse 2s infinite;
            position: relative;
            z-index: 10;
            backdrop-filter: blur(2px);
        }

        .instruction-pl {
            display: block;
            font-size: 1.5em;
            font-weight: bold;
            color: #ffd700;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .instruction-pt {
            display: block;
            font-size: 0.9em;
            color: #ccc;
            font-style: italic;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        }

        /* --- GRID DE N√öMEROS --- */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(65px, 1fr));
            gap: 15px;
            width: 90%;
            max-width: 800px;
            padding: 20px;
            margin-bottom: 80px; /* Mais espa√ßo no fundo por causa da n√©voa */
            position: relative;
            z-index: 5;
        }

        .number-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            aspect-ratio: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.6em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
            color: #eee;
            backdrop-filter: blur(3px); /* Vidro fosco */
        }

        .number-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.15);
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
            color: #ffd700;
            z-index: 10;
        }

        .number-card.used {
            opacity: 0.2;
            pointer-events: none;
            background: #000;
            border-color: #333;
            color: #444;
            transform: scale(0.9);
            box-shadow: none;
        }

        /* --- O MODAL --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.94);
            backdrop-filter: blur(8px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content {
            background: linear-gradient(160deg, #2a2a4e 0%, #12121f 100%);
            padding: 40px 30px;
            border-radius: 25px;
            border: 2px solid #ffd700;
            text-align: center;
            max-width: 90%;
            width: 340px;
            box-shadow: 0 0 100px rgba(255, 215, 0, 0.25);
            transform: scale(0.6);
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
            opacity: 1;
        }

        /* --- AULA DE N√öMEROS --- */
        .number-badge-container {
            position: absolute;
            top: 15px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .number-badge {
            font-size: 0.9em;
            color: rgba(255, 255, 255, 0.6);
            font-weight: lighter;
            letter-spacing: 1px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 4px 12px;
            border-radius: 20px;
            font-family: monospace;
        }

        /* Bot√£o de som */
        .audio-btn {
            cursor: pointer;
            font-size: 1.2em;
            color: #ffd700;
            opacity: 0.7;
            transition: all 0.2s;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .audio-btn:hover {
            opacity: 1;
            transform: scale(1.2);
            background: rgba(255, 215, 0, 0.2);
        }

        /* --- TIPOGRAFIA DO MODAL --- */
        .polish-word {
            margin-top: 20px; 
            font-size: 2.8em;
            color: #ffd700;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 800;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
            border-bottom: 2px solid rgba(255, 215, 0, 0.5);
            padding-bottom: 5px;
            opacity: 0;
            animation: slideDown 0.6s forwards 0.2s;
            line-height: 1.1;
        }

        .emoji-display {
            font-size: 6em;
            margin: 15px 0;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.6));
            opacity: 0;
            animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards 0.3s;
        }

        .portuguese-literal {
            font-size: 1.4em;
            color: #e0e0e0;
            font-weight: 300;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 0;
            opacity: 0;
            animation: fadeIn 0.8s forwards 0.5s;
        }

        .description-text {
            font-size: 1em;
            color: #a8a8c0;
            font-style: italic;
            margin-top: 15px;
            margin-bottom: 30px;
            line-height: 1.5;
            background: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 8px;
            width: 95%;
            opacity: 0;
            animation: slideUp 0.6s forwards 0.6s;
        }

        .close-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            padding: 10px 35px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
        }

        .close-btn:hover {
            background: #ffd700;
            color: #1a1a2e;
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        /* Anima√ß√µes */
        @keyframes popIn {
            0% { transform: scale(0) rotate(-20deg); opacity: 0; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        @keyframes slideDown {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

    </style>
</head>
<body>

    <div id="star-container"></div>
    <div class="fog-container">
        <div class="fog-wave fog-layer-1"></div>
        <div class="fog-wave fog-layer-2"></div>
    </div>

    <h1>WR√ì≈ªBY ANDRZEJKOWE</h1>
    <h2>(Previs√µes de Andrzejki)</h2>
    
    <div class="instruction-box">
        <span class="instruction-pl">WYBIERZ LICZBƒò</span>
        <span class="instruction-pt">Escolha um n√∫mero</span>
    </div>

    <div class="grid-container" id="grid">
        </div>

    <div class="modal-overlay" id="modal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            
            <div class="number-badge-container">
                <span class="audio-btn" id="btnNumAudio" title="Ouvir N√∫mero">üîä</span>
                <div class="number-badge" id="modalNumberTag">?</div>
            </div>

            <div id="polishText" class="polish-word"></div>
            
            <div id="emojiDisplay" class="emoji-display"></div>
            
            <div id="ptLiteral" class="portuguese-literal"></div>

            <div id="descText" class="description-text"></div>
            
            <button class="close-btn" onclick="closeModal()">Fechar</button>
        </div>
    </div>

    <script>
        // --- GERADOR DE ESTRELAS M√çSTICAS ---
        function createStars() {
            const container = document.getElementById('star-container');
            const starCount = 50; // Quantidade de estrelas

            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // Posi√ß√£o aleat√≥ria
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                // Tamanho aleat√≥rio (pequeno)
                const size = Math.random() * 3 + 1;
                
                // Dura√ß√£o e Atraso da anima√ß√£o aleat√≥rios para n√£o piscarem juntos
                const duration = Math.random() * 3 + 2; // entre 2 e 5 segundos
                const delay = Math.random() * 5;
                const maxOpacity = Math.random() * 0.7 + 0.3;

                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.setProperty('--duration', `${duration}s`);
                star.style.setProperty('--max-opacity', maxOpacity);
                star.style.animationDelay = `${delay}s`;

                container.appendChild(star);
            }
        }
        // Inicia as estrelas ao carregar
        createStars();


        // --- BANCO DE DADOS ---
        const symbols = [
            { emoji: "üóùÔ∏è", pl: "Klucz", pt: "Chave", desc: "A chave para resolver seus problemas aparecer√°." },
            { emoji: "‚ù§Ô∏è", pl: "Serce", pt: "Cora√ß√£o", desc: "Um grande amor ou paix√£o est√° a caminho." },
            { emoji: "üíç", pl: "Pier≈õcionek", pt: "Anel", desc: "Um compromisso s√©rio em breve." },
            { emoji: "üí∞", pl: "PieniƒÖdz", pt: "Dinheiro", desc: "Sucesso financeiro inesperado." },
            { emoji: "‚úàÔ∏è", pl: "Podr√≥≈º", pt: "Avi√£o", desc: "Uma viagem mudar√° sua perspectiva." },
            { emoji: "üè†", pl: "Dom", pt: "Casa", desc: "Seguran√ßa e conforto no lar." },
            { emoji: "üêï", pl: "Pies", pt: "Cachorro", desc: "Lealdade e amizade verdadeira." },
            { emoji: "üêà", pl: "Kot", pt: "Gato", desc: "Siga seu pr√≥prio caminho com independ√™ncia." },
            { emoji: "‚≠ê", pl: "Gwiazda", pt: "Estrela", desc: "Voc√™ ser√° o centro das aten√ß√µes." },
            { emoji: "‚òÄÔ∏è", pl: "S≈Ço≈Ñce", pt: "Sol", desc: "Alegria, energia e vitalidade." },
            { emoji: "üë∂", pl: "Dziecko", pt: "Beb√™", desc: "Um novo come√ßo ou projeto nascendo." },
            { emoji: "üçé", pl: "Jab≈Çko", pt: "Ma√ß√£", desc: "Cuidado com tenta√ß√µes." },
            { emoji: "ü¶â", pl: "Sowa", pt: "Coruja", desc: "Sabedoria para tomar decis√µes dif√≠ceis." },
            { emoji: "ü¶ã", pl: "Motyl", pt: "Borboleta", desc: "Transforma√ß√£o pessoal profunda." },
            { emoji: "üçÄ", pl: "Koniczyna", pt: "Trevo", desc: "Sorte pura em jogos ou escolhas." },
            { emoji: "üïØÔ∏è", pl: "≈öwieca", pt: "Vela", desc: "Esperan√ßa e clareza espiritual." },
            { emoji: "‚úâÔ∏è", pl: "List", pt: "Carta", desc: "Uma not√≠cia importante chegar√°." },
            { emoji: "üéÅ", pl: "Prezent", pt: "Presente", desc: "Voc√™ receber√° algo especial." },
            { emoji: "üëë", pl: "Korona", pt: "Coroa", desc: "Poder, lideran√ßa e reconhecimento." },
            { emoji: "üêç", pl: "WƒÖ≈º", pt: "Cobra", desc: "Aten√ß√£o com pessoas falsas." },
            { emoji: "üöó", pl: "Samoch√≥d", pt: "Carro", desc: "Movimento r√°pido em dire√ß√£o aos objetivos." },
            { emoji: "üå≥", pl: "Drzewo", pt: "√Årvore", desc: "Crescimento s√≥lido e sa√∫de." },
            { emoji: "üë†", pl: "But", pt: "Sapato", desc: "Uma mudan√ßa de rumo necess√°ria." },
            { emoji: "üï∞Ô∏è", pl: "Zegar", pt: "Rel√≥gio", desc: "O tempo √© agora, n√£o espere mais." },
            { emoji: "üåπ", pl: "R√≥≈ºa", pt: "Rosa", desc: "Paix√£o intensa √† vista." },
            { emoji: "‚öì", pl: "Kotwica", pt: "√Çncora", desc: "Estabilidade e seguran√ßa." },
            { emoji: "üëÅÔ∏è", pl: "Oko", pt: "Olho", desc: "Confie na sua intui√ß√£o." },
            { emoji: "üåô", pl: "Ksiƒô≈ºyc", pt: "Lua", desc: "Segredos e sonhos reveladores." },
            { emoji: "üìö", pl: "KsiƒÖ≈ºka", pt: "Livro", desc: "Conhecimento trar√° sucesso." },
            { emoji: "‚úÇÔ∏è", pl: "No≈ºyczki", pt: "Tesoura", desc: "Corte o que n√£o te serve mais." },
            { emoji: "üî•", pl: "Ogie≈Ñ", pt: "Fogo", desc: "Muita energia, use com cuidado." },
            { emoji: "üåä", pl: "Woda", pt: "√Ågua", desc: "Flua com as emo√ß√µes, sem resistir." },
            { emoji: "üé≠", pl: "Maska", pt: "M√°scara", desc: "Nem tudo √© o que parece." },
            { emoji: "üîí", pl: "K≈Ç√≥dka", pt: "Cadeado", desc: "Guarde seus planos em segredo." },
            { emoji: "üåç", pl: "≈öwiat", pt: "Mundo", desc: "Expans√£o de horizontes e viagens." },
            { emoji: "üí°", pl: "≈ªar√≥wka", pt: "L√¢mpada", desc: "Uma ideia brilhante surgir√°." },
            { emoji: "üö≤", pl: "Rower", pt: "Bicicleta", desc: "Progresso atrav√©s do pr√≥prio esfor√ßo." },
            { emoji: "üßÅ", pl: "Babeczka", pt: "Bolinho", desc: "Momentos doces e prazerosos." },
            { emoji: "üèÜ", pl: "Puchar", pt: "Ta√ßa", desc: "Vit√≥ria e celebra√ß√£o." },
            { emoji: "üö™", pl: "Drzwi", pt: "Porta", desc: "Novas oportunidades se abrindo." }
        ];

        const polishNumbers = [
            "", 
            "Jeden", "Dwa", "Trzy", "Cztery", "Piƒôƒá", "Sze≈õƒá", "Siedem", "Osiem", "Dziewiƒôƒá", "Dziesiƒôƒá",
            "Jedena≈õcie", "Dwana≈õcie", "Trzyna≈õcie", "Czterna≈õcie", "Piƒôtna≈õcie", "Szesna≈õcie", "Siedemna≈õcie", "Osiemna≈õcie", "Dziewiƒôtna≈õcie", "Dwadzie≈õcia",
            "Dwadzie≈õcia jeden", "Dwadzie≈õcia dwa", "Dwadzie≈õcia trzy", "Dwadzie≈õcia cztery", "Dwadzie≈õcia piƒôƒá", "Dwadzie≈õcia sze≈õƒá", "Dwadzie≈õcia siedem", "Dwadzie≈õcia osiem", "Dwadzie≈õcia dziewiƒôƒá", "Trzydzie≈õci",
            "Trzydzie≈õci jeden", "Trzydzie≈õci dwa", "Trzydzie≈õci trzy", "Trzydzie≈õci cztery", "Trzydzie≈õci piƒôƒá", "Trzydzie≈õci sze≈õƒá", "Trzydzie≈õci siedem", "Trzydzie≈õci osiem", "Trzydzie≈õci dziewiƒôƒá", "Czterdzie≈õci"
        ];

        symbols.sort(() => Math.random() - 0.5);

        const grid = document.getElementById('grid');
        const modal = document.getElementById('modal');
        const polishText = document.getElementById('polishText');
        const emojiDisplay = document.getElementById('emojiDisplay');
        const ptLiteral = document.getElementById('ptLiteral');
        const descText = document.getElementById('descText');
        const modalNumberTag = document.getElementById('modalNumberTag');
        
        // Bot√µes de √°udio
        const btnNumAudio = document.getElementById('btnNumAudio');

        // Vari√°vel para guardar o texto atual para falar
        let currentNumberText = "";

        for (let i = 1; i <= 40; i++) {
            const card = document.createElement('div');
            card.classList.add('number-card');
            card.innerText = i;
            card.onclick = () => openPrediction(i, card);
            grid.appendChild(card);
        }

        function openPrediction(number, cardElement) {
            if (cardElement.classList.contains('used')) return;

            cardElement.classList.add('used');
            const data = symbols[(number - 1) % symbols.length];

            // 1. Configura textos visuais
            polishText.innerText = data.pl;
            emojiDisplay.innerText = data.emoji;
            ptLiteral.innerText = data.pt;
            descText.innerText = data.desc;
            const plNumberName = polishNumbers[number] || "";
            modalNumberTag.innerText = `${number} - ${plNumberName}`;

            // 2. Prepara texto para √Åudio
            currentNumberText = plNumberName; // Fala s√≥ o nome do n√∫mero

            modal.classList.add('active');
            
            resetAnimation(polishText);
            resetAnimation(emojiDisplay);
            resetAnimation(ptLiteral);
            resetAnimation(descText);
        }

        // --- FUN√á√ÉO DE FALA (TTS) ---
        function speak(text) {
            if (!window.speechSynthesis) return;

            // Cancela se j√° estiver falando algo
            window.speechSynthesis.cancel();

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'pl-PL'; // Tenta for√ßar polon√™s
            utterance.rate = 0.9;     // Um pouquinho mais lento para ser claro

            window.speechSynthesis.speak(utterance);
        }

        // Evento de clique no bot√£o de som
        btnNumAudio.onclick = () => speak(currentNumberText);

        function resetAnimation(element) {
            element.style.animation = 'none';
            element.offsetHeight; 
            element.style.animation = null; 
        }

        function closeModal() {
            modal.classList.remove('active');
            window.speechSynthesis.cancel(); // Para de falar se fechar a janela
        }
    </script>
</body>
</html>